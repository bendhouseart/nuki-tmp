dist: xenial
os: linux
language: python
before_install:
  - python -m pip install --upgrade pip

jobs:
  include:
    - python: 3.7
      before_install:
      env:
        - TOXENV=lint
    - python: 3.6
      env: TOXENV=py36
    - python: 3.7
      env: TOXENV=py37
    - python: 3.8
      env: TOXENV=py38
    - python: pypy3
      env: TOXENV=pypy3
    - name: Python 3.6 on Windows
      os: windows
      language: shell
      before_install:
        - choco install python --version 3.6.7
        - python --version
        - python -m pip install --upgrade pip
        - python -m pip install --upgrade virtualenv wheel
        - python -m virtualenv $HOME/venv
        - source $HOME/venv/Scripts/activate
      env:
        - TOXENV=py36
        - PATH=/c/Python36:/c/Python36/Scripts:$PATH
    - name: Python 3.7 on Windows
      os: windows
      language: shell
      before_install:
        - choco install python --version 3.7.2
        - python --version
        - python -m pip install --upgrade pip
        - python -m pip install --upgrade virtualenv wheel
        - python -m virtualenv $HOME/venv
        - source $HOME/venv/Scripts/activate
      env:
        - TOXENV=py37
        - PATH=/c/Python37:/c/Python37/Scripts:$PATH
    - name: Python 3.8 on Windows
      os: windows
      language: shell
      before_install:
        - choco install python --version 3.8.0
        - python --version
        - python -m pip install --upgrade pip
        - python -m pip install --upgrade virtualenv wheel
        - python -m virtualenv $HOME/venv
        - source $HOME/venv/Scripts/activate
      env:
        - TOXENV=py38
        - PATH=/c/Python38:/c/Python38/Scripts:$PATH
script: tox
install:
  - python -m pip install tox
after_success:
  - pip install codecov
  - codecov -e TOXENV TRAVIS_OS_NAME
env:
  global:
    - secure: S84z7tGBDB0TzpX0WnHurni8a+Mrh4biiGKEnAo7rHqLAlhos0wMUJHtun+0JxqD7nxvmqeSYDVDGB9fo7z8V9O2HmR1CxVgWgGNP6T9cCSQk2n72tG+lv4ZtyDCTcOi2w8vwK+fzdLOck9DsXLCigEV4gpFNuLdPg0oafDfZ7qPRjgzCMJt8w8wOUbJe+2BU9WmUPjVq/FRyKR/5bW6qXOZX7hnA921u8Kk2K6/00Bd/UTOa6Wq8nUUTzbMdnbNb+Xf5aMk/u7hXAo9HNGUEX6j0HzOqLqvyLxHYkWDo53ZCT5LgPlgxrS2n0e/iTiUhW7Z9nxtec39b0UdAedM5iJB+Bl1hvw/joFLZXZyCiltEgScYClZoaAPbeATxd7DRCDhZNtAsFdO2LisdGEwbQrNaY076XCH6gwGXsr9oX/r6OetlDI+2xb+Fl4NZPWHCf92Tw4eVR9qM7bfeTDQR35bdslur4arTtpT4A8BRqcmjZbxCSD7HBSxVRmYPjTuTHU39pi4wnximxbd0AQD/cS36Uf+IF0ll7TKLSDziOGUTjdESlOwv+DwH0OQOLT25OEKhYK5ESB4Tz3YpW45MVGSBPhoN+/RV1YhZ4dnBW4Nhe1Ce3uaILiKOUOZwLDdv68DtkXPFyGou9dKjcvYVy6L9aAPnwtpunx0Wiv+sPY=
    - secure: y6JTv9ZGzUBNBZ+UARXbb3a/x+BbDtZE6Ym6+CAtCS7DS4adL2xmtRiOWnqb4StyhF1Q05oJiwqVH7VXg+WDACUQmu9FOTP75TlYCjwOvxx/78p6dVS1Acx2aJOt0ls21gxCanwyCnSyZNk3EEs5dzSeApmXj/JxkHomc5V+zKN93QGT6bis4VtSm9D9oBJJmtOnr5Z2DGyyvrTDtuYqWOYLDhMAuJLZorbluGZo2dkSIbNSQO+f5+mqo/yW9Y8ZWwBFfd35Y4stKc2H7lNtzAEpoI/5Tem6c/F4Zr7gFwFNUD/qtaIAI5JKxOT5K/YvhzCfylTDyN1y4xqDMVPA+WEhuK2ych1nfCNCChqHfWd9NaoM4LvkBS+mX0FgnJ1g7kpu9Ojg8aPjq4H5Pe+XtNKdz+4c0f+l2Y8rI/RqZn16RGNg0HjkTc8vZLlswVoWHQhlOCvCOUOIyScQBJB/TMCmt72+KXBQXf0nseMb2QSX2T9QiB6Inv9JYTQbrBbVQy/x/Bx9E41QAFnFLe14lA5Ze523SoFXrmgVc03DpIxaS8FZ4BjxDcTJZwbcEuUACVefaGdvdDFiGaQh3xkXkWpy9h/azxa382H3RxlWJSWokwI0HWj+LppHvBBnFgFrjDFGtI74OzCygi/edQ5LtgH4oikS6uts2AzVEYekb6A=
